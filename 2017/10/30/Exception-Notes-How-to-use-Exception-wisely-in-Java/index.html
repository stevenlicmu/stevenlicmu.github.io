<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Learning makes me happy."><title>Exception Notes: How to use Exception wisely in Java | Xiaojie (Steven)'s Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Exception Notes: How to use Exception wisely in Java</h1><a id="logo" href="/.">Xiaojie (Steven)'s Blog</a><p class="description">It supposed to be hard. If it isn't hard then everyone will do it. The hard is what makes it great.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Exception Notes: How to use Exception wisely in Java</h1><div class="post-meta">Oct 30, 2017<span> | </span><span class="category"><a href="/categories/Technique/">Technique</a></span></div><div class="post-content"><p>‘Robustness’ is a very important issue in the field of software. Exceptions and its handles help programmer easily enhance their software’s robustness. But, this is under the condition that you know how to use exceptions appropriately. </p>
<h2 id="What-do-we-care-when-we-talk-about-Exceptions"><a href="#What-do-we-care-when-we-talk-about-Exceptions" class="headerlink" title="What do we care when we talk about Exceptions"></a>What do we care when we talk about Exceptions</h2><p>When we talk about exception, we are focus on three areas:<br>1) Where; 2) What type; 3) What message.<br>In specific,<br>1) Where this exception happended;<br>2) What type is this exception;<br>3) What is message this exception brings to us. </p>
<p>We can use printStackTrace() to get the information for where. We can use a more detailed subclass exception to answer the second issue. Also, we can write a more detailed message when we define this exception to address the third issue.  </p>
<p>In general, there are three principles you need to follow while you are using exceptions.<br>1) Throw it early than NullPointerException;<br>2) Be specific;<br>3) Handle it later. </p>
<p>Now, let us talk the details of these three principles. </p>
<h2 id="I-Throw-it-early-than-NullPointer"><a href="#I-Throw-it-early-than-NullPointer" class="headerlink" title="I. Throw it early than NullPointer"></a>I. Throw it early than NullPointer</h2><p>NullPointerException is the most ambigous exception. For example, if we have following code segment:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lenWords</span><span class="params">(String input)</span> </span>&#123;</div><div class="line">     <span class="keyword">return</span> input.split(<span class="string">" "</span>).length;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>If pass a null reference as the input, then JVM will throw a NullPointerException but without any useful information. Therefore, we must do something before the JVM throw a NullPointerException. </p>
<p>The alternative way is to throw a more specific exception earlier with specific message then NullPointerException. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lenWords</span><span class="params">(String input)</span> </span>&#123;</div><div class="line">     <span class="keyword">if</span> (input == <span class="keyword">null</span>) &#123;</div><div class="line">       <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Input string cannot be null"</span>);</div><div class="line">     &#125;</div><div class="line">     <span class="keyword">return</span> input.split(<span class="string">" "</span>).length;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="II-Be-specific"><a href="#II-Be-specific" class="headerlink" title="II. Be specific"></a>II. Be specific</h2><p>Be specific means you use specific classes and write specific message. </p>
<h2 id="III-Catch-it-later"><a href="#III-Catch-it-later" class="headerlink" title="III. Catch it later"></a>III. Catch it later</h2><p>This part is the most tricky part and also is the most confusing for rookies. </p>
<p>In order to achieve this requirement, we should apply modular programming all the time. Like MVC framework philosophy, UI should be a module while data process should be another model. Controller should be the one who coordinates both above. </p>
<p>If an exception is thrown in the data model, it should be controller who catches the exception and handle it properly according to different situation. </p>
<p>Therefore, we should use ‘throws’ statement when we define the data process class. Then write ‘try…catch…’ in the controller. Because controller can have more options to handle the exception. The normal way is to: 1) Set an useDefault in controller; 2) Use controller to call the view part to prompt an UI message to user;</p>
<p>Above is what we mean by catching the exception at higher level and also is the most essential advantage of exception. Never rush to catch the exception during writing codes. </p>
<p>The most useless thing to do is to printStackTrace. Because this is what JVM does when there isn’t any appropriate handler (catch modules). </p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>In conclusion, you should avoid NullPointer by considering extreme cases and throw appropriate exceptions earlier. Also, throw a specific exception and write detailed message with it. Last but not least, don’t forget to perform modular programming and catch the exceptions at a higher level. </p>
</div><div class="tags"><a href="/tags/Exception/">Exception</a></div><div class="post-nav"><a href="/2017/10/31/OS-Notes-Multi-threads/" class="pre">OS Notes: Multi-threads</a><a href="/2017/10/23/Frontend-Notes-Playground/" class="next">Frontend Notes: Playground</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://stevenlicmu.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Operation-System/">Operation System</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Operation-System/Threads/">Threads</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Poems/">Poems</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Technique/">Technique</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Techniques/">Techniques</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Locks/" style="font-size: 15px;">Locks</a> <a href="/tags/Technique/" style="font-size: 15px;">Technique</a> <a href="/tags/Frontends/" style="font-size: 15px;">Frontends</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Thread/" style="font-size: 15px;">Thread</a> <a href="/tags/Exception/" style="font-size: 15px;">Exception</a> <a href="/tags/Maven/" style="font-size: 15px;">Maven</a> <a href="/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/tags/Shakespeare/" style="font-size: 15px;">Shakespeare</a> <a href="/tags/Talmud/" style="font-size: 15px;">Talmud</a> <a href="/tags/WebApplication/" style="font-size: 15px;">WebApplication</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/07/04/Web-Application-Design-Foundation/">Web-Application-Design-Foundation</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/20/D-S-Notes-Summary/">D.S. Notes: Summary</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/31/OS-Notes-Multi-threads/">OS Notes: Multi-threads</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/30/Exception-Notes-How-to-use-Exception-wisely-in-Java/">Exception Notes: How to use Exception wisely in Java</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/23/Frontend-Notes-Playground/">Frontend Notes: Playground</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/23/Maven-Notes-Basic-Operations/">Maven Notes: Basic Operations</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/17/Git-Notes-Some-useful-Tips-for-Git/">Git Notes: Some useful Tips for Git</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/15/Talmud-Extract/">Talmud Extract</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/15/Shakespeare-Poems-Extracts/">Shakespeare Poems Extracts</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/21/SQL-Notes-Single-row-functions/">SQL Notes: Single row functions</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://blog.csdn.net/firehotest" title="Old Blog" target="_blank">Old Blog</a><ul></ul><a href="http://github.com/stevenlicmu" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="http://www.linkedin.com/in/stevenlicmu/" title="LinkedIn" target="_blank">LinkedIn</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Xiaojie (Steven)'s Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>