<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Learning makes me happy."><title>Git Notes: Some useful Tips for Git | Xiaojie (Steven)'s Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Git Notes: Some useful Tips for Git</h1><a id="logo" href="/.">Xiaojie (Steven)'s Blog</a><p class="description">It supposed to be hard. If it wasn't hard then everyone would do it. The hard is what makes it great.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Git Notes: Some useful Tips for Git</h1><div class="post-meta">Oct 17, 2017<span> | </span><span class="category"><a href="/categories/Technique/">Technique</a></span></div><div class="post-content"><p>Today, we are going to talk about some useful commands in Git. Those commands will be introduced by scenarioes. </p>
<p>We should treat github as a tool and record something as a menu whenever you need it you can turn to. </p>
<h2 id="Scenario-I"><a href="#Scenario-I" class="headerlink" title="Scenario I"></a>Scenario I</h2><p>We all know the command for amending the most recent commit’s message:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit --amend -m <span class="string">'new message'</span></div></pre></td></tr></table></figure>
<p>However, if we want to amend not only for the most recent commit? We should use the git rebase command. </p>
<p>For example, I have a git log like this:</p>
<p><img src="gitlog.png" width="300" height="200" alt="gitlog.png" align="center"></p>
<p>Then I need to amend the message with hash begins with 6fb1458. I should use:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git rebase -i b11daec</div></pre></td></tr></table></figure>
<p>By the way, git can use the first 7 bits hash to identify a commit. </p>
<p>Why do we need to choose the commit before it? Because rebase is commonly used for merging different commits. The following hash ‘b11daec’ is the one needs to be kept.<br>The other commits after this commit are those need to be amended. Then how about we want to choose a range instead of reaching the lastest one?</p>
<p>Then we need to use ‘…’ to represent the range:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git rebase -i b11daec...6fb1458</div></pre></td></tr></table></figure>
<p>Following text interaction interface will appear after we type the rebase command:</p>
<p><img src="gitrebase.jpg" width="300" height="200" alt="gitrebase.jpg" align="center"></p>
<p>As you can see, if we choose pick, we will keep the original one. Based on our need, we should choose ‘reword’ for 6fb1458. Also, if you want to merge a particular command, you should use ‘squash’. </p>
<p>After you enter ‘:wq’ to save your setting. Git will prompt different windows to let you modify different commits base on your choices. </p>
<h2 id="Scenario-II"><a href="#Scenario-II" class="headerlink" title="Scenario II"></a>Scenario II</h2><p>If there is a branch at the remote git, and you want to copy it to your computer. Also, you want to keep your copy related to the origin one. Then, you need to use:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout --track -b branchname origin/branchname</div></pre></td></tr></table></figure>
<p>By using this command can make Git always be tracking the update of remote branch. And promise the new branch you create will be the most updated version. </p>
<h2 id="Scenario-III"><a href="#Scenario-III" class="headerlink" title="Scenario III"></a>Scenario III</h2><p>If you want to merge some particular commits from other branches to your current branch. You can use ‘cherry-pick’. </p>
<p>For example, if the commit hash you want to merge is ‘6fb94ta’. Then after you switch back to your current branch, run this command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git cherry-pick 6fb94ta</div></pre></td></tr></table></figure>
<h2 id="Scenario-IV"><a href="#Scenario-IV" class="headerlink" title="Scenario IV"></a>Scenario IV</h2><p>Pull command == fetch + merge. </p>
<p>We can divide pull into fetches and merges. </p>
<p>First we fetch all the updates to local host. </p>
<p>Then we can select some particular branches we want to update instead of all of them. </p>
<p>For example, I run following fetch command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git fetch origin</div></pre></td></tr></table></figure>
<p>Then I got following content: </p>
<p>remote: Counting objects: 382, done.<br>remote: Compressing objects: 100% (203/203), done.<br>remote: Total 278 (delta 177), reused 103 (delta 59)<br>Receiving objects: 100% (278/278), 4.89 MiB | 539 KiB/s, done.<br>Resolving deltas: 100% (177/177), completed with 40 local objects.<br>From ssh://xxx/srv/git/xxx<br> 3036acc..9eb5e40  debian-release-20081030 -&gt; origin/debian-release-20081030</p>
<ul>
<li>[new branch]      debian-release-20081112 -&gt; origin/debian-release-20081112</li>
<li>[new branch]      debian-release-20081112.1 -&gt; origin/debian-release-20081112.1<br> 3d619e7..6260626  master     -&gt; origin/master</li>
</ul>
<p>We can see for branch ‘debian-release-20081030’ we have a local copy. The commit hash updated at remote from 3036acc(head of local) to 9eb5e40(head of remote). *[new branch] means we do not have<br> a copy at local. </p>
<p>We can use following command to see what updates have been performed:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git diff debian-release-20081030 origin/debian-release-20081030</div></pre></td></tr></table></figure>
<p>We can also use following command to merge a particular branch</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git merge origin/debian-release-20081030</div></pre></td></tr></table></figure>
<p>It is very common that we encounter some conflicts during merge, then we can use following command to resolve: </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git mergetool</div></pre></td></tr></table></figure>
<p>In case we want to abandon last merge you just performed, you can use following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git reset --hard</div></pre></td></tr></table></figure>
<p>Be careful with this command, there is not any way to re-do the changes. </p>
<p>If you just want to keep the changes while un-do the last commit, you should use soft reset instead. </p>
<h2 id="Scenario-V"><a href="#Scenario-V" class="headerlink" title="Scenario V"></a>Scenario V</h2><p>Now, let’s say you run ‘git init’ at a local folder and initialize a repository in your local folder. But you want to push to your github, then what should you do?</p>
<p>Step 1: Create a repository which has the same name on github;</p>
<p>Step 2: After successful creation, run following two commands in your local repository. Pay attention, before you run these commands, you should have set up the SSH setting. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote add origin git@github.com:<span class="string">'userid'</span>/<span class="string">'reponame'</span>.git</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push -u origin master</div></pre></td></tr></table></figure>
<p>At here, origin is the alia of ‘git@github.com:’userid’/‘reponame’.git’. </p>
<p>Don’t forget you must add ‘-u’ which can set the track branch setting for your current branch. Only with such setting, you can run ‘git pull’ to update your local branch with your remote branch. </p>
<p>In other words, if you forget the use the ‘-u’ then what should you do?</p>
<p>You can use:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git branch --<span class="built_in">set</span>-upstream-to=origin/master master</div></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/Git/">Git</a></div><div class="post-nav"><a href="/2017/10/23/Maven-Notes-Basic-Operations/" class="pre">Maven Notes: Basic Operations</a><a href="/2017/10/15/Talmud-Extract/" class="next">Talmud Extract</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://stevenlicmu.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Operation-System/">Operation System</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Operation-System/Threads/">Threads</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Poems/">Poems</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Technique/">Technique</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Techniques/">Techniques</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Exception/" style="font-size: 15px;">Exception</a> <a href="/tags/Frontends/" style="font-size: 15px;">Frontends</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Maven/" style="font-size: 15px;">Maven</a> <a href="/tags/Thread/" style="font-size: 15px;">Thread</a> <a href="/tags/Locks/" style="font-size: 15px;">Locks</a> <a href="/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/tags/Shakespeare/" style="font-size: 15px;">Shakespeare</a> <a href="/tags/Talmud/" style="font-size: 15px;">Talmud</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/10/31/OS-Notes-Multi-threads/">OS Notes: Multi-threads</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/30/Exception-Notes-How-to-use-Exception-wisely-in-Java/">Exception Notes: How to use Exception wisely in Java</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/23/Frontend-Notes-Playground/">Frontend Notes: Playground</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/23/Maven-Notes-Basic-Operations/">Maven Notes: Basic Operations</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/17/Git-Notes-Some-useful-Tips-for-Git/">Git Notes: Some useful Tips for Git</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/15/Talmud-Extract/">Talmud Extract</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/15/Shakespeare-Poems-Extracts/">Shakespeare Poems Extracts</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/21/SQL-Notes-Single-row-functions/">SQL Notes: Single row functions</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/21/SQL-Notes-Advance-Query/">SQL Notes: Advance Query</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/20/SQL-Notes-Group-Functions/">SQL Notes: Group Functions</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://blog.csdn.net/firehotest" title="Old Blog" target="_blank">Old Blog</a><ul></ul><a href="http://github.com/stevenlicmu" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="http://www.linkedin.com/in/stevenlicmu/" title="LinkedIn" target="_blank">LinkedIn</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">Xiaojie (Steven)'s Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>